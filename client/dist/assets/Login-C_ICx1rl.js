import{u as v,a as w,r,j as e}from"./index-D9hGhxv1.js";import{B as o,C as y,a as N,b as C,c as S,d as k,L as p,I as h,e as E}from"./createLucideIcon-DPOfEtN0.js";import{A as L}from"./arrow-left-BRXzCr7n.js";function I(){const a=v(),{setUser:d,setToken:c}=w(),[t,x]=r.useState(""),[g,f]=r.useState(""),[m,n]=r.useState(""),[i,u]=r.useState(!1);function j(){if(typeof window<"u"&&window.history.length>1){a(-1);return}a("/")}async function b(s){if(s.preventDefault(),!i){u(!0);try{n("");const l=/admin/i.test(t)?"admin":"employee";c&&c(null),d&&d({email:t,role:l}),a("/employees")}catch(l){n(l.message)}finally{u(!1)}}}return e.jsx("div",{className:"min-h-screen bg-background text-foreground",children:e.jsx("div",{className:"container mx-auto flex min-h-screen items-center justify-center px-6 py-12",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs(o,{type:"button",variant:"ghost",className:"mb-3",onClick:j,children:[e.jsx(L,{className:"mr-2 h-4 w-4"}),"Back"]}),e.jsx(y,{className:"w-full  p-0 shadow-none",children:e.jsxs("div",{className:"p-0",children:[e.jsxs(N,{className:"border-border border-b p-4 [.border-b]:pb-4",children:[e.jsx(C,{children:"Login"}),e.jsx(S,{children:"Enter your credentials to access your account"})]}),e.jsxs(k,{className:"space-y-5 p-4",children:[e.jsxs("form",{onSubmit:b,children:[e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(p,{htmlFor:"email",children:"Email"}),e.jsx(h,{id:"email",type:"email",placeholder:"name@example.com",value:t,onChange:s=>x(s.target.value),required:!0,autoComplete:"email"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(p,{htmlFor:"password",children:"Password"}),e.jsx(h,{id:"password",type:"password",placeholder:"••••••••",value:g,onChange:s=>f(s.target.value),required:!0,autoComplete:"current-password"})]}),m&&e.jsx("div",{className:"rounded-md border border-destructive/30 bg-destructive/10 px-3 py-2 text-sm text-destructive",children:m})]}),e.jsx(E,{className:"border-border mt-4 border-t p-0 pt-4",children:e.jsx(o,{className:"w-full",type:"submit",disabled:i,children:i?"Signing in…":"Sign in"})})]}),e.jsx(o,{type:"button",variant:"link",className:"w-full",onClick:()=>{n(""),a("/register")},children:"No account? Create one"})]})]})})]})})})}export{I as default};
