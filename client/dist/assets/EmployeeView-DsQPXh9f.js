import{r as d,j as e,b as q,u as $,a as Q}from"./index-D9hGhxv1.js";import{N as _}from"./Navbar-VGw1GWjM.js";import{f as V,B as x,C as M,a as F,b as I,d as C,L as X,I as u}from"./createLucideIcon-DPOfEtN0.js";const Z=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],B=V("pencil",Z);function ee(s){const[r,a]=d.useState(null),[n,i]=d.useState(!0);return d.useEffect(()=>{i(!0);try{const t=localStorage.getItem("si_employees"),A=(t?JSON.parse(t):[]).find(l=>String(l.id)===String(s));a(A||null)}catch{a(null)}finally{i(!1)}},[s]),{employee:r,loadingEmployee:n}}const se={wageType:"fixed",wageAmount:5e4,workingDaysPerWeek:5,breakTimeHours:1,hoursPerDay:8,pfRate:12,professionalTax:200,components:{basic:{type:"percentOfWage",value:50},hra:{type:"percentOfBasic",value:50},standardAllowance:{type:"fixed",value:4167},performanceBonus:{type:"percentOfWage",value:8.33},leaveTravelAllowance:{type:"percentOfWage",value:8.33}}};function ae(s){const r=d.useMemo(()=>`si_salary_${s}`,[s]),[a,n]=d.useState(()=>{try{const l=localStorage.getItem(r);if(l)return JSON.parse(l)}catch{}return se});d.useEffect(()=>{try{localStorage.setItem(r,JSON.stringify(a))}catch{}},[a,r]);const i=d.useMemo(()=>{const l=Number(a?.wageAmount);return Number.isFinite(l)&&l>=0?l:0},[a?.wageAmount]),t=d.useMemo(()=>{const l=a||{},m=l.components||{},o=Number(m?.basic?.value),v=Number(m?.hra?.value),j=Number(m?.performanceBonus?.value),h=Number(m?.leaveTravelAllowance?.value),S=Number(m?.standardAllowance?.value),f=Math.round(i*(Number.isFinite(o)?o:0)/100),p=Math.round(f*(Number.isFinite(v)?v:0)/100),N=Math.round(i*(Number.isFinite(j)?j:0)/100),k=Math.round(i*(Number.isFinite(h)?h:0)/100),g=Number.isFinite(S)?Math.round(S):0,b=f+p+N+k+g,w=i-b,O=Math.max(0,Math.round(w)),L=w<0,D=Number(l?.pfRate),R=Math.round(f*(Number.isFinite(D)?D:0)/100),z=Math.round(Number(l?.professionalTax)||0);return{basic:f,hra:p,standardAllowance:g,performanceBonus:N,leaveTravelAllowance:k,fixedAllowance:O,exceedsWage:L,subtotalWithoutFixed:b,total:b+O,pfEmployee:R,pfEmployer:R,professionalTax:z}},[a,i]);function T(l,m){n(o=>({...o||{},[l]:m}))}function A(l,m){n(o=>({...o||{},components:{...o&&o.components||{},[l]:{...(o&&o.components||{})[l]||{},value:m}}}))}return{salaryConfig:a,setSalaryConfig:n,salaryStorageKey:r,wageAmount:i,salaryComputed:t,setSalaryField:T,setComponentValue:A}}function te({activeTab:s,setActiveTab:r,canViewSalary:a}){return e.jsxs("div",{className:"flex items-center gap-2 border-b pb-3",children:[e.jsx(x,{variant:s==="resume"?"default":"ghost",size:"sm",onClick:()=>r("resume"),children:"Resume"}),e.jsx(x,{variant:s==="private"?"default":"ghost",size:"sm",onClick:()=>r("private"),children:"Private Info"}),e.jsx(x,{variant:s==="salary"?"default":"ghost",size:"sm",disabled:!a,onClick:()=>{a&&r("salary")},children:"Salary Info"})]})}function ne(){return e.jsxs("div",{className:"mt-4 grid gap-4 lg:grid-cols-2",children:[e.jsxs("div",{className:"grid gap-4",children:[e.jsxs(M,{children:[e.jsx(F,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsx(I,{className:"text-sm",children:"About"}),e.jsx(x,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8","aria-label":"Edit About",children:e.jsx(B,{className:"h-4 w-4"})})]})}),e.jsx(C,{className:"text-sm text-muted-foreground",children:"No information added yet."})]}),e.jsxs(M,{children:[e.jsx(F,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsx(I,{className:"text-sm",children:"What I love about my job"}),e.jsx(x,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8","aria-label":"Edit What I love about my job",children:e.jsx(B,{className:"h-4 w-4"})})]})}),e.jsx(C,{className:"text-sm text-muted-foreground",children:"No information added yet."})]}),e.jsxs(M,{children:[e.jsx(F,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsx(I,{className:"text-sm",children:"My interests and hobbies"}),e.jsx(x,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8","aria-label":"Edit My interests and hobbies",children:e.jsx(B,{className:"h-4 w-4"})})]})}),e.jsx(C,{className:"text-sm text-muted-foreground",children:"No information added yet."})]})]}),e.jsxs("div",{className:"grid gap-4",children:[e.jsxs(M,{children:[e.jsx(F,{className:"pb-3",children:e.jsx(I,{className:"text-sm",children:"Skills"})}),e.jsx(C,{className:"text-sm text-muted-foreground",children:e.jsx("div",{className:"rounded border border-dashed p-3",children:"+ Add skills"})})]}),e.jsxs(M,{children:[e.jsx(F,{className:"pb-3",children:e.jsx(I,{className:"text-sm",children:"Certification"})}),e.jsx(C,{className:"text-sm text-muted-foreground",children:e.jsx("div",{className:"rounded border border-dashed p-3",children:"+ Add certification"})})]})]})]})}function re({employee:s}){const r={dateOfBirth:s?.dateOfBirth||s?.dob,residingAddress:s?.address||s?.residingAddress,nationality:s?.nationality,personalEmail:s?.personalEmail,gender:s?.gender,maritalStatus:s?.maritalStatus,dateOfJoining:s?.dateOfJoining||s?.joiningDate},a={accountNumber:s?.bankAccountNumber||s?.accountNumber,bankName:s?.bankName,ifscCode:s?.ifsc||s?.ifscCode,panNo:s?.pan||s?.panNo,uanNo:s?.uan||s?.uanNo,empCode:s?.employeeCode||s?.empCode};function n({label:i,value:t}){return e.jsxs("div",{className:"flex items-end gap-4",children:[e.jsx("div",{className:"w-36 text-sm text-muted-foreground",children:i}),e.jsx("div",{className:"flex-1 border-b pb-1 text-sm font-medium",children:t||"—"})]})}return e.jsxs("div",{className:"mt-4 grid gap-8 lg:grid-cols-2",children:[e.jsxs("div",{className:"space-y-5",children:[e.jsx("div",{className:"text-sm font-medium",children:"Private Info"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(n,{label:"Date of Birth",value:r.dateOfBirth}),e.jsx(n,{label:"Residing Address",value:r.residingAddress}),e.jsx(n,{label:"Nationality",value:r.nationality}),e.jsx(n,{label:"Personal Email",value:r.personalEmail}),e.jsx(n,{label:"Gender",value:r.gender}),e.jsx(n,{label:"Marital Status",value:r.maritalStatus}),e.jsx(n,{label:"Date of Joining",value:r.dateOfJoining})]})]}),e.jsxs("div",{className:"space-y-5 lg:border-l lg:pl-8",children:[e.jsx("div",{className:"text-sm font-medium",children:"Bank Details"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(n,{label:"Account Number",value:a.accountNumber}),e.jsx(n,{label:"Bank Name",value:a.bankName}),e.jsx(n,{label:"IFSC Code",value:a.ifscCode}),e.jsx(n,{label:"PAN No",value:a.panNo}),e.jsx(n,{label:"UAN No",value:a.uanNo}),e.jsx(n,{label:"Emp Code",value:a.empCode})]})]})]})}function ie({salaryConfig:s,wageAmount:r,salaryComputed:a,setSalaryField:n,setComponentValue:i}){return e.jsx("div",{className:"mt-4 grid gap-4",children:e.jsxs(M,{children:[e.jsx(F,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsx(I,{className:"text-sm",children:"Salary Info"}),e.jsx(x,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8","aria-label":"Edit Salary Info",children:e.jsx(B,{className:"h-4 w-4"})})]})}),e.jsxs(C,{children:[e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"grid gap-1",children:[e.jsx(X,{className:"text-sm text-muted-foreground",children:"Wage Type"}),e.jsx("div",{className:"text-sm font-medium",children:"Fixed wage"})]}),e.jsxs("div",{className:"flex items-end gap-3 text-sm",children:[e.jsx("div",{className:"w-28 text-muted-foreground",children:"Month Wage"}),e.jsx(u,{inputMode:"numeric",className:"h-8 flex-1 rounded-none border-0 border-b bg-transparent px-0 text-center font-medium focus-visible:ring-0",value:s.wageAmount,onChange:t=>n("wageAmount",t.target.value)}),e.jsx("div",{className:"w-16 text-muted-foreground",children:"/ Month"})]}),e.jsxs("div",{className:"flex items-end gap-3 text-sm",children:[e.jsx("div",{className:"w-28 text-muted-foreground",children:"Yearly wage"}),e.jsx("div",{className:"h-8 flex-1 border-b pb-1 text-center font-medium",children:Math.round(r*12)}),e.jsx("div",{className:"w-16 text-muted-foreground",children:"/ Yearly"})]})]}),e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"flex items-end gap-3 text-sm",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-muted-foreground",children:"No of working days"}),e.jsx("div",{className:"text-muted-foreground",children:"in a week:"})]}),e.jsx(u,{inputMode:"numeric",className:"h-8 w-40 rounded-none border-0 border-b bg-transparent px-0 text-center font-medium focus-visible:ring-0",value:s.workingDaysPerWeek,onChange:t=>n("workingDaysPerWeek",t.target.value)})]}),e.jsxs("div",{className:"flex items-end gap-3 text-sm",children:[e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"text-muted-foreground",children:"Break Time:"})}),e.jsx(u,{inputMode:"decimal",className:"h-8 w-40 rounded-none border-0 border-b bg-transparent px-0 text-center font-medium focus-visible:ring-0",value:s.breakTimeHours,onChange:t=>n("breakTimeHours",t.target.value)})]}),e.jsxs("div",{className:"flex items-end gap-3 text-sm",children:[e.jsx("div",{className:"flex-1 text-muted-foreground",children:"Hrs/day"}),e.jsx(u,{inputMode:"decimal",className:"h-8 w-40 rounded-none border-0 border-b bg-transparent px-0 text-center font-medium focus-visible:ring-0",value:s.hoursPerDay,onChange:t=>n("hoursPerDay",t.target.value)}),e.jsx("div",{className:"w-16 text-muted-foreground",children:"/Hrs"})]})]})]}),a.exceedsWage&&e.jsx("div",{className:"mt-4 rounded-md border border-destructive/30 bg-destructive/10 px-3 py-2 text-sm text-destructive",children:"The total of all components exceeds the defined wage. Adjust component values."}),e.jsxs("div",{className:"mt-6 grid gap-6 lg:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium",children:"Salary components"}),e.jsxs("div",{className:"mt-3 space-y-4 text-sm",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-end gap-3",children:[e.jsx("div",{className:"flex-1",children:"Basic Salary"}),e.jsxs("div",{className:"flex w-56 items-end gap-2",children:[e.jsx("div",{className:"flex-1 border-b pb-1 text-right",children:a.basic.toFixed(2)}),e.jsx("div",{className:"text-muted-foreground",children:"₹ / month"})]}),e.jsx(u,{inputMode:"decimal",className:"h-8 w-16 rounded-none border-0 border-b bg-transparent px-0 text-right focus-visible:ring-0",value:s.components.basic.value,onChange:t=>i("basic",t.target.value)}),e.jsx("div",{className:"text-muted-foreground",children:"%"})]}),e.jsx("div",{className:"mt-1 text-xs text-muted-foreground",children:"Define Basic salary from company cost compute it based on monthly wages"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-end gap-3",children:[e.jsx("div",{className:"flex-1",children:"House Rent Allowance"}),e.jsxs("div",{className:"flex w-56 items-end gap-2",children:[e.jsx("div",{className:"flex-1 border-b pb-1 text-right",children:a.hra.toFixed(2)}),e.jsx("div",{className:"text-muted-foreground",children:"₹ / month"})]}),e.jsx(u,{inputMode:"decimal",className:"h-8 w-16 rounded-none border-0 border-b bg-transparent px-0 text-right focus-visible:ring-0",value:s.components.hra.value,onChange:t=>i("hra",t.target.value)}),e.jsx("div",{className:"text-muted-foreground",children:"%"})]}),e.jsx("div",{className:"mt-1 text-xs text-muted-foreground",children:"HRA provided to employees 50% of the basic salary"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-end gap-3",children:[e.jsx("div",{className:"flex-1",children:"Standard Allowance"}),e.jsxs("div",{className:"flex w-56 items-end gap-2",children:[e.jsx(u,{inputMode:"decimal",className:"h-8 flex-1 rounded-none border-0 border-b bg-transparent px-0 text-right focus-visible:ring-0",value:s.components.standardAllowance.value,onChange:t=>i("standardAllowance",t.target.value)}),e.jsx("div",{className:"text-muted-foreground",children:"₹ / month"})]}),e.jsx("div",{className:"w-16 text-right text-muted-foreground",children:"Fixed"})]}),e.jsx("div",{className:"mt-1 text-xs text-muted-foreground",children:"A standard allowance is a predetermined, fixed amount provided to employee as part of their salary"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-end gap-3",children:[e.jsx("div",{className:"flex-1",children:"Performance Bonus"}),e.jsxs("div",{className:"flex w-56 items-end gap-2",children:[e.jsx("div",{className:"flex-1 border-b pb-1 text-right",children:a.performanceBonus.toFixed(2)}),e.jsx("div",{className:"text-muted-foreground",children:"₹ / month"})]}),e.jsx(u,{inputMode:"decimal",className:"h-8 w-16 rounded-none border-0 border-b bg-transparent px-0 text-right focus-visible:ring-0",value:s.components.performanceBonus.value,onChange:t=>i("performanceBonus",t.target.value)}),e.jsx("div",{className:"text-muted-foreground",children:"%"})]}),e.jsx("div",{className:"mt-1 text-xs text-muted-foreground",children:"Variable amount paid during payroll. The value defined by the company and calculated as a % of the basic salary"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-end gap-3",children:[e.jsx("div",{className:"flex-1",children:"Leave Travel Allowance"}),e.jsxs("div",{className:"flex w-56 items-end gap-2",children:[e.jsx("div",{className:"flex-1 border-b pb-1 text-right",children:a.leaveTravelAllowance.toFixed(2)}),e.jsx("div",{className:"text-muted-foreground",children:"₹ / month"})]}),e.jsx(u,{inputMode:"decimal",className:"h-8 w-16 rounded-none border-0 border-b bg-transparent px-0 text-right focus-visible:ring-0",value:s.components.leaveTravelAllowance.value,onChange:t=>i("leaveTravelAllowance",t.target.value)}),e.jsx("div",{className:"text-muted-foreground",children:"%"})]}),e.jsx("div",{className:"mt-1 text-xs text-muted-foreground",children:"LTA is paid by the company to employees to cover their travel expenses, and calculated as a % of the basic salary"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-end gap-3",children:[e.jsx("div",{className:"flex-1",children:"Fixed Allowance"}),e.jsxs("div",{className:"flex w-56 items-end gap-2",children:[e.jsx("div",{className:"flex-1 border-b pb-1 text-right",children:a.fixedAllowance.toFixed(2)}),e.jsx("div",{className:"text-muted-foreground",children:"₹ / month"})]}),e.jsx("div",{className:"w-16 text-right text-muted-foreground",children:"Auto"})]}),e.jsx("div",{className:"mt-1 text-xs text-muted-foreground",children:"Fixed allowance portion of wages is determined after calculating all salary components"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium",children:"Configuration"}),e.jsxs("div",{className:"mt-3 grid gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-end gap-3",children:[e.jsx("div",{className:"flex-1 text-muted-foreground",children:"PF rate"}),e.jsx(u,{inputMode:"decimal",className:"h-8 w-28 rounded-none border-0 border-b bg-transparent px-0 text-right font-medium focus-visible:ring-0",value:s.pfRate,onChange:t=>n("pfRate",t.target.value)}),e.jsx("div",{className:"text-muted-foreground",children:"%"})]}),e.jsxs("div",{className:"flex items-end gap-3",children:[e.jsx("div",{className:"flex-1 text-muted-foreground",children:"Professional Tax"}),e.jsx(u,{inputMode:"decimal",className:"h-8 w-28 rounded-none border-0 border-b bg-transparent px-0 text-right font-medium focus-visible:ring-0",value:s.professionalTax,onChange:t=>n("professionalTax",t.target.value)}),e.jsx("div",{className:"text-muted-foreground",children:"₹"})]})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium",children:"Provident Fund (PF) Contribution"}),e.jsxs("div",{className:"mt-3 space-y-4 text-sm",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-end gap-3",children:[e.jsx("div",{className:"flex-1",children:"Employee"}),e.jsxs("div",{className:"flex w-56 items-end gap-2",children:[e.jsx("div",{className:"flex-1 border-b pb-1 text-right",children:a.pfEmployee.toFixed(2)}),e.jsx("div",{className:"text-muted-foreground",children:"₹ / month"})]}),e.jsx("div",{className:"w-14 border-b pb-1 text-right",children:Number(s.pfRate||0).toFixed(2)}),e.jsx("div",{className:"text-muted-foreground",children:"%"})]}),e.jsx("div",{className:"mt-1 text-xs text-muted-foreground",children:"PF is calculated based on the basic salary"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-end gap-3",children:[e.jsx("div",{className:"flex-1",children:"Employer"}),e.jsxs("div",{className:"flex w-56 items-end gap-2",children:[e.jsx("div",{className:"flex-1 border-b pb-1 text-right",children:a.pfEmployer.toFixed(2)}),e.jsx("div",{className:"text-muted-foreground",children:"₹ / month"})]}),e.jsx("div",{className:"w-14 border-b pb-1 text-right",children:Number(s.pfRate||0).toFixed(2)}),e.jsx("div",{className:"text-muted-foreground",children:"%"})]}),e.jsx("div",{className:"mt-1 text-xs text-muted-foreground",children:"PF is calculated based on the basic salary"})]})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium",children:"Tax Deductions"}),e.jsx("div",{className:"mt-3 space-y-4 text-sm",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-end gap-3",children:[e.jsx("div",{className:"flex-1",children:"Professional Tax"}),e.jsxs("div",{className:"flex w-56 items-end gap-2",children:[e.jsx("div",{className:"flex-1 border-b pb-1 text-right",children:a.professionalTax.toFixed(2)}),e.jsx("div",{className:"text-muted-foreground",children:"₹ / month"})]})]}),e.jsx("div",{className:"mt-1 text-xs text-muted-foreground",children:"Professional Tax deducted from the gross salary"})]})})]})]})]})]})]})})}function le({employeeId:s,profileImage:r,primaryName:a,loginId:n,email:i,mobile:t,company:T,department:A,manager:l,location:m,onBack:o}){const v=d.useRef(null),[j,h]=d.useState(""),[S,f]=d.useState(r||""),[p,N]=d.useState(!1),[k,g]=d.useState(a||""),[b,w]=d.useState("");d.useEffect(()=>{f(r||"")},[r]),d.useEffect(()=>{p||g(a||"")},[a,p]);const O=d.useMemo(()=>(a||"U").charAt(0).toUpperCase(),[a]);function L(){w(""),g(a||""),N(!0)}function D(){w(""),g(a||""),N(!1)}function R(){const c=String(k||"").trim();if(!c){w("Name is required.");return}if(c.length>60){w("Name is too long (max 60 characters).");return}if(w(""),N(!1),s!=null)try{const y=localStorage.getItem("si_employees"),W=y?JSON.parse(y):[],E=(Array.isArray(W)?W:[]).map(P=>String(P?.id)===String(s)?{...P,name:c}:P);localStorage.setItem("si_employees",JSON.stringify(E))}catch{}}function z(){h(""),v.current&&v.current.click()}function G(c){const y=c.target.files&&c.target.files[0];if(c.target.value="",!y)return;const W=2*1024*1024;if(!(typeof y.type=="string"&&y.type.startsWith("image/"))){h("Please select a valid image file (PNG, JPG, WEBP).");return}if(y.size>W){h("Image is too large. Max size is 2MB.");return}const E=new FileReader;E.onload=()=>{const P=typeof E.result=="string"?E.result:"";if(!P){h("Failed to read image file. Please try again.");return}if(f(P),h(""),s!=null)try{const H=localStorage.getItem("si_employees"),U=H?JSON.parse(H):[],K=(Array.isArray(U)?U:[]).map(J=>String(J?.id)===String(s)?{...J,profileImage:P}:J);localStorage.setItem("si_employees",JSON.stringify(K))}catch{}},E.onerror=()=>h("Failed to read image file. Please try again."),E.readAsDataURL(y)}return e.jsxs(e.Fragment,{children:[e.jsx(_,{}),e.jsxs("div",{className:"container mx-auto px-6 py-8",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(x,{variant:"ghost",onClick:o,children:"Back"}),e.jsx("h1",{className:"text-lg font-semibold",children:"My Profile"})]}),e.jsx(F,{className:"mt-4 pb-4",children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-[280px_1fr] md:items-start",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("button",{type:"button",onClick:z,className:"relative flex h-24 w-24 items-center justify-center overflow-hidden rounded-none bg-muted text-3xl","aria-label":"Change profile photo",title:"Change profile photo",children:[S?e.jsx("img",{src:S,alt:"Profile",className:"h-full w-full object-cover"}):O,e.jsx(x,{type:"button",variant:"ghost",size:"icon",className:"absolute bottom-1.5 right-1.5 h-8 w-8 rounded-full border bg-background","aria-label":"Edit profile photo",onClick:c=>{c.preventDefault(),c.stopPropagation(),z()},children:e.jsx(B,{className:"h-4 w-4"})}),e.jsx("input",{ref:v,type:"file",accept:"image/*",className:"hidden",onChange:G})]}),j?e.jsx("div",{className:"mt-2 text-xs text-destructive",children:j}):null]}),e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center gap-2",children:p?e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(u,{value:k,onChange:c=>g(c.target.value),onKeyDown:c=>{c.key==="Enter"&&(c.preventDefault(),R()),c.key==="Escape"&&(c.preventDefault(),D())},className:"h-9 w-64","aria-label":"Name",autoFocus:!0}),e.jsx(x,{type:"button",size:"sm",onClick:R,children:"Save"}),e.jsx(x,{type:"button",size:"sm",variant:"outline",onClick:D,children:"Cancel"})]}),b?e.jsx("div",{className:"text-xs text-destructive",children:b}):null]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-xl font-semibold leading-tight",children:a}),e.jsx(x,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8","aria-label":"Edit name",onClick:L,children:e.jsx(B,{className:"h-4 w-4"})})]})}),e.jsxs("div",{className:"mt-2 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:"w-20",children:"Login ID"}),e.jsx("span",{children:n})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:"w-20",children:"Email"}),e.jsx("span",{children:i})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:"w-20",children:"Mobile"}),e.jsx("span",{children:t})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-2 text-sm text-muted-foreground sm:grid-cols-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:"w-24",children:"Company"}),e.jsx("span",{children:T})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:"w-24",children:"Department"}),e.jsx("span",{children:A})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:"w-24",children:"Manager"}),e.jsx("span",{children:l})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:"w-24",children:"Location"}),e.jsx("span",{children:m})]})]})]})})]})]})}function xe(){const{id:s}=q(),r=$(),[a,n]=d.useState("private"),{user:i}=Q(),{employee:t,loadingEmployee:T}=ee(s),{salaryConfig:A,wageAmount:l,salaryComputed:m,setSalaryField:o,setComponentValue:v}=ae(s),j=d.useMemo(()=>!0,[]),h=t?.name||i?.name||"My Profile",S=t?.loginId||(i?.email?i.email.split("@")[0]:"—"),f=t?.email||i?.email||"—",p=t?.mobile||i?.phone||"—",N=t?.company||i?.company||"—",k=t?.department||"—",g=t?.manager||"—",b=t?.location||"—";return T?e.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[e.jsx(_,{}),e.jsx("div",{className:"container mx-auto px-6 py-10",children:e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading…"})})})]}):t?e.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[e.jsx(le,{employeeId:t?.id??s,profileImage:t?.profileImage,primaryName:h,loginId:S,email:f,mobile:p,company:N,department:k,manager:g,location:b,onBack:()=>r(-1)}),e.jsx("div",{className:"container mx-auto px-6",children:e.jsx(M,{children:e.jsxs(C,{children:[e.jsx(te,{activeTab:a,setActiveTab:n,canViewSalary:j}),a==="resume"&&e.jsx(ne,{}),a==="private"&&e.jsx(re,{employee:t}),a==="salary"&&j&&e.jsx(ie,{salaryConfig:A,wageAmount:l,salaryComputed:m,setSalaryField:o,setComponentValue:v})]})})})]}):e.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[e.jsx(_,{}),e.jsx("div",{className:"container mx-auto px-6 py-10",children:e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"mb-4",children:"Employee not found."}),e.jsx(x,{onClick:()=>r(-1),children:"Back"})]})})})]})}export{xe as default};
